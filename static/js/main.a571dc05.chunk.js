(this.webpackJsonpeditor=this.webpackJsonpeditor||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){var r={"./c/tokenizer.js":17};function s(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=o,e.exports=s,s.id=16},function(e,t){var n=["int","float","double","char","auto","void"],r=["long","short","signed","unsigned"],s=["for","if","else","switch","return","goto","register","do","while","break","continue","struct","enum","union","static","case","default","sizeof","typedef","volatile","extern"],o=["+","-","*","/","%","=","==","++","--","+=","-=","*=","/=",">","<",">=","<=","!=",">>","<<",">>=","<<=","~","!","&","|","^","&=","|=","^=","~=","?",":","&&","||"],i=[",",".",";","->","#","(",")","{","}","[","]","...",'"',"'"],a=["printf","scanf",""],c=[],u=function(){for(var e=0;e<c.length;e++)""===c[e]&&c.splice(e,1)},l=function(){for(var e=[],t=0;t<c.length&&" "===c[t];)t++;var n=Math.floor(t/4),r=t%4;if(n>0){for(var s=0;s<n-1;s++)e.push(["    ","indentation_guide_1"]);0===r?e.push(["    ","indentation_guide_2"]):e.push(["    ","indentation_guide_1"])}for(var o=4*n;o<c.length;o++)e.push([c[o],f(c[o])]);c=e},f=function(e){return""===(e=e.trim())?"space":-1!==n.indexOf(e)?"type":-1!==r.indexOf(e)?"qualifier":-1!==s.indexOf(e)?"keyword":'"'===e[0]?"string_literal":"'"===e[0]?function(e){var t=e.slice(1,-1);return!(t.length>1)||2===t.length&&"\\"===t[0]}(e)?"char_literal":"error":"string"!=typeof(t=e)||isNaN(t)||isNaN(parseFloat(t))?-1!==o.indexOf(e)?"operator":-1!==i.indexOf(e)?"punctuator":"//"===e.substring(0,2)?"single_line_comment":"/*"===e.substring(0,2)?"*/"===e.substring(e.length-2)?"multi_line_comment":"multi_line_comment_start":"*/"===e.substring(e.length-2,2)?"multi_line_comment_end":e.match(/^[0-9a-zA-Z_]+$/)?a.includes(e)?"lib_func":"identifier":"error":"numeric_literal";var t};e.exports={tokenize:function(e){c=[];for(var t,n=!1,r=!1,s=!1,a=!1,f="",d=0;d<e.length;d++)if(t=e[d],a)f+=t,"/"===t&&d>0&&"*"===e[d-1]&&(a=!1,c[c.length-1]+=f,f="");else if(t>="a"&&t<="z")s&&(c.push(f),f=""),f+=t,s=!1;else if("_"===t)s&&(c.push(f),f=""),f+=t,s=!1;else if(t>="A"&&t<="Z")s&&(c.push(f),f=""),f+=t,s=!1;else if(t>="0"&&t<="9")s&&(c.push(f),f=""),f+=t,s=!1;else if(" "===t)n||r?f+=t:(c.push(f),f="",c.push(" ")),s=!1;else if('"'===t)s&&(c.push(f),f=""),d>0&&"\\"!==e[d-1]?(n?(f+=t,c.push(f),f=""):(c.push(f),f='"'),n=!n):f+=t,s=!1;else if("'"===t)s&&(c.push(f),f=""),d>0&&"\\"!==e[d-1]?(r?(f+=t,c.push(f),f=""):(c.push(f),f="'"),r=!r):f+=t,s=!1;else if(i.includes(t))s&&(c.push(f),f=""),n||r?f+=t:(c.push(f),f="",c.push(t)),s=!1;else if("\\"===t)f+=t;else if(o.includes(t))if(n||r)f+=t;else{if("/"===t&&d>0&&"/"===e[d-1])return c[c.length-1]+="/"+e.substring(d),u(),l(),c;"*"===t&&d>0&&"/"===e[d-1]&&(f+=t,a=!0),a||(s?f+=t:(c.push(f),f=t),s=!0)}else n||r||(c.push(f),c.push(t),f=""),s=!1;return c.push(f),u(),l(),c}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),o=n(5),i=n.n(o),a=(n(12),n(13),n(2)),c=n(6);var u=Object(c.a)((function(){var e=Object(r.useState)(4),t=Object(a.a)(e,2),n=t[0],s=t[1],o=Object(r.useState)(20),i=Object(a.a)(o,2),c=i[0],u=i[1],l=Object(r.useState)(30),f=Object(a.a)(l,2),d=f[0],g=f[1],p=Object(r.useState)(null),h=Object(a.a)(p,2),b=h[0],y=h[1],O=Object(r.useState)(null),x=Object(a.a)(O,2),C=x[0],m=x[1],_=Object(r.useState)(0),j=Object(a.a)(_,2),k=j[0],v=j[1],A=Object(r.useState)(0),I=Object(a.a)(A,2),L=I[0],S=I[1],F=Object(r.useState)(0),w=Object(a.a)(F,2);return{tabWidth:n,setTabWidth:s,lineHeight:c,setLineHeight:u,lineCount:d,setLineCount:g,cursorOffset:w[0],setCursorOffset:w[1],contentArray:b,setContentArray:y,tokenArray:C,setTokenArray:m,cursorLine:k,setCursorLine:v,cursorIndex:L,setCursorIndex:S}})),l=n(0),f=function(e){var t=e.number,n=e.isContractible,r=e.isContracted,s=u.useContainer(),o=s.cursorLine===t?"#272727":"#2F3129";return Object(l.jsxs)("div",{className:"editor_line_marker",style:{height:s.lineHeight+"px",backgroundColor:o},children:[Object(l.jsx)("span",{style:{marginRight:"5px"},children:t+1}),n?Object(l.jsx)("i",{className:"fa fa-caret-down",style:r?{color:"white"}:{color:"gray"}}):Object(l.jsx)("i",{})]})},d=function(e){var t=e.code,n=e.category,r=e.line,s=e.index,o=u.useContainer();t=t.replaceAll(" ","\xa0");var i={type:"#5CD9EF",qualifier:"#5CD9EF",keyword:"#F92665",operator:"#F92665",punctuator:"#FFFFFF",escapeseq:"#7C75FF",error:"#FFFFFF",identifier:"#FFFFFF",string_literal:"#E6DB74",char_literal:"#E6DB74",numeric_literal:"#7C75FF",single_line_comment:"#1e9104",multi_line_comment:"#1e9104",multi_line_comment_start:"#1e9104",multi_line_comment_end:"#1e9104",indentation_guide_1:"transparent",indentation_guide_2:"transparent",lib_func:"#66D9E2"}[n],a=function(e){e=e.replace(/ /g,"&nbsp");var t=document.getElementById("text_width_finder");return t.innerHTML=e,t.getBoundingClientRect().width};return Object(l.jsx)("span",{"data-index":s,contentEditable:"false",spellCheck:"false",className:"indentation_guide_1"===n?"editor_code_span editor_code_span_indentation":"editor_code_span",style:{color:i,fontStyle:"type"===n||"qualifier"===n?"italic":"normal"},onClick:function(e){var n=e.offsetX||e.nativeEvent.offsetX;n=e.clientX-e.target.getBoundingClientRect().left,e.stopPropagation(),e.preventDefault(),o.setCursorLine(r);var i=o.tokenArray[r].slice(0,s).reduce((function(e,t){return Array.isArray(e)?e[0].length+t[0].length:e+t[0].length}),0),c=0,u=0;for(u=0;u<t.length;u++)if((c+=a(t[u]))>n){c-n<n-c+a(t[u])&&(u+=1);break}o.setCursorIndex(i+u),o.setCursorOffset(a(o.contentArray[r].slice(0,i+u))),document.getElementById("edit_textarea").focus()},suppressContentEditableWarning:!0,children:t})},g=function(e){var t=e.line,n=u.useContainer();return Object(l.jsx)("div",{"data-line":t,className:"editor_code_line",style:{height:n.lineHeight+"px",backgroundColor:t===n.cursorLine?"#202020":"#272822",top:n.lineHeight*t+"px"},onClick:function(){n.setCursorLine(t),n.setCursorIndex(n.contentArray[t].length),n.setCursorOffset(function(e){e=e.replace(/ /g,"&nbsp");var t=document.getElementById("text_width_finder");return t.innerHTML=e,t.getBoundingClientRect().width}(n.contentArray[t])),document.getElementById("edit_textarea").focus()},children:null===n.tokenArray?"":n.tokenArray[t].map((function(e,n){return Object(l.jsx)(d,{index:n,code:e[0],category:e[1],line:t},n)}))})},p=n(4),h=n.n(p),b=n(7),y=localStorage.getItem("language")||"c",O=n(16)("./"+y+"/tokenizer.js"),x=["(","{","["],C=[")","}","]"],m=function(){var e=u.useContainer(),t=Object(r.useState)(!1),n=Object(a.a)(t,2),s=n[0],o=n[1],i=Object(r.useState)(!1),c=Object(a.a)(i,2),f=c[0],d=c[1],g=Object(r.useState)(null),p=Object(a.a)(g,2),y=p[0],m=p[1],_=Object(r.useState)(null),j=Object(a.a)(_,2),k=j[0],v=j[1],A=function(e){e=e.replace(/ /g,"&nbsp");var t=document.getElementById("text_width_finder");return t.innerHTML=e,t.getBoundingClientRect().width},I=function(){localStorage.setItem("contentArray",JSON.stringify(e.contentArray)),localStorage.setItem("tokenArray",JSON.stringify(e.tokenArray))},L=function(t,n){e.setLineCount(e.lineCount+1),e.contentArray.splice(t,0,n),e.tokenArray.splice(t,0,O.tokenize(n)),e.setCursorLine(t),e.setCursorIndex(0),e.setCursorOffset(0),I()},S=function(){var t=Object(b.a)(h.a.mark((function t(n){var r,s,o,i,a,c,u,l,f,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.keyCode||n.charCode,s=e.cursorLine,o=e.contentArray[s],i=e.cursorIndex,8!==r){t.next=8;break}n.preventDefault(),t.next=59;break;case 8:if(9!==r){t.next=21;break}n.preventDefault(),a=e.tabWidth-i%e.tabWidth,c=" ".repeat(a),o=o.slice(0,i)+c+o.slice(i),e.setCursorIndex(i+a),e.setCursorOffset(e.cursorOffset+A(c)),u=O.tokenize(o),e.contentArray[e.cursorLine]=o,e.tokenArray[e.cursorLine]=u,I(),t.next=59;break;case 21:if(13!==r){t.next=30;break}n.preventDefault(),n.stopPropagation(),l=o.substring(0,i),e.contentArray[s]=l,e.tokenArray[s]=O.tokenize(l),L(s+1,o.substring(i)),t.next=59;break;case 30:if(37!==r){t.next=34;break}i>0?(e.setCursorIndex(i-1),e.setCursorOffset(A(o.slice(0,i-1))),v("L")):s-1>=0&&(e.setCursorIndex(e.contentArray[s-1].length),e.setCursorOffset(A(e.contentArray[s-1])),e.setCursorLine(s-1),v("L")),t.next=59;break;case 34:if(38!==r){t.next=46;break}if(!(s>0)){t.next=44;break}if("R"!==k&&"L"!==k&&null!==k){t.next=39;break}return t.next=39,m(i);case 39:v("U"),f=Math.min(y||i,e.contentArray[s-1].length),e.setCursorLine(s-1),e.setCursorIndex(f),e.setCursorOffset(A(e.contentArray[s-1].substring(0,f)));case 44:t.next=59;break;case 46:if(40!==r){t.next=58;break}if(!(s+1<e.lineCount)){t.next=56;break}if("R"!==k&&"L"!==k&&null!==k){t.next=51;break}return t.next=51,m(i);case 51:v("U"),d=Math.min(y||i,e.contentArray[s+1].length),e.setCursorLine(s+1),e.setCursorIndex(d),e.setCursorOffset(A(e.contentArray[s+1].substring(0,d)));case 56:t.next=59;break;case 58:39===r&&(i<o.length?(e.setCursorIndex(i+1),e.setCursorOffset(A(o.slice(0,i+1))),v("R")):s+1<e.lineCount&&(e.setCursorIndex(0),e.setCursorOffset(0),e.setCursorLine(s+1),v("R")));case 59:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsx)("textarea",{id:"edit_textarea",style:{height:e.lineHeight+"px",top:e.lineHeight*e.cursorLine+"px",left:(e.cursorOffset?e.cursorOffset:0)+"px",lineHeight:e.lineHeight+"px"},autoFocus:!0,wrap:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",onInput:function(t){var n=t.target,r=n.value;n.value="";var i=e.cursorIndex,a=e.contentArray[e.cursorLine];if(x.includes(r)){var c=C[x.indexOf(r)];e.setCursorIndex(i+1),e.setCursorOffset(e.cursorOffset+A(r)),a=a.slice(0,i)+r+c+a.slice(i);var u=O.tokenize(a);e.contentArray[e.cursorLine]=a,e.tokenArray[e.cursorLine]=u,I()}else if('"'===r&&(i>1&&"\\"!==a[i-2]||i<=1)){o(!s),e.setCursorIndex(i+1),e.setCursorOffset(e.cursorOffset+A(r)),a=a.slice(0,i)+'""'+a.slice(i);var l=O.tokenize(a);e.contentArray[e.cursorLine]=a,e.tokenArray[e.cursorLine]=l,I()}else if("'"===r&&(i>1&&"\\"!==a[i-2]||i<=1)){d(!f),e.setCursorIndex(i+1),e.setCursorOffset(e.cursorOffset+A(r)),a=a.slice(0,i)+"''"+a.slice(i);var g=O.tokenize(a);e.contentArray[e.cursorLine]=a,e.tokenArray[e.cursorLine]=g,I()}else{e.setCursorIndex(i+1),e.setCursorOffset(e.cursorOffset+A(r)),a=a.slice(0,i)+r+a.slice(i);var p=O.tokenize(a);e.contentArray[e.cursorLine]=a,e.tokenArray[e.cursorLine]=p,I()}},onKeyDown:S})},_=(n(18),function(){var e=u.useContainer();Object(r.useEffect)((function(){null===e.contentArray&&function(e){var t,n;localStorage.setItem("language","c"),null===localStorage.getItem("contentArray")?(t=Array.from({length:e.lineCount},(function(e,t){return""})),localStorage.setItem("contentArray",JSON.stringify(t))):e.setLineCount(JSON.parse(localStorage.getItem("contentArray")).length),null===localStorage.getItem("tokenArray")&&(n=Array.from({length:e.lineCount},(function(e,t){return[]})),localStorage.setItem("tokenArray",JSON.stringify(n))),t=JSON.parse(localStorage.getItem("contentArray")),n=JSON.parse(localStorage.getItem("tokenArray")),e.setContentArray(t),e.setTokenArray(n)}(e)}),[e.contentArray,e.tokenArray]);var t=Array.from({length:e.lineCount},(function(e,t){return t}));return Object(l.jsxs)("div",{className:"editor_wrapper",id:"editor_wrapper",children:[Object(l.jsx)("div",{className:"editor_line_marker_wrapper",children:t.map((function(e,t){return Object(l.jsx)(f,{number:e,isContractible:!1,isContracted:!1},t)}))}),Object(l.jsxs)("div",{className:"editor_code_wrapper",onCopy:function(t){t.preventDefault();var n=window.getSelection();if(n.toString().length>0){var r=parseInt(n.anchorNode.parentElement.parentElement.dataset.line),s=parseInt(n.anchorNode.parentElement.dataset.index),o=n.anchorOffset,i=parseInt(n.focusNode.parentElement.parentElement.dataset.line),a=parseInt(n.focusNode.parentElement.dataset.index),c=n.focusOffset;if(i<r||i===r&&a<s){var u=[i,r];r=u[0],i=u[1];var l=[a,s];s=l[0],a=l[1];var f=[c,o];o=f[0],c=f[1]}console.log(r,s),console.log(i,a);var d="";d+=e.tokenArray[r][s][0].slice(o);for(var g=s+1;g<e.tokenArray[r].length;g++)d+=e.tokenArray[r][g][0];d+="\n";for(var p=r+1;p<i;p++)d+=e.contentArray[p],d+="\n";for(var h=0;h<a;h++)d+=e.tokenArray[i][h][0];d+=e.tokenArray[i][a][0].slice(0,c),console.log(d),t.clipboardData.setData("text/plain",d)}},children:[Object(l.jsx)(m,{}),t.map((function(e,t){return Object(l.jsx)(g,{line:t},t)}))]})]})}),j=function(){return Object(l.jsx)(u.Provider,{children:Object(l.jsx)(_,{})})};var k=function(){return localStorage.setItem("language","c"),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(j,{}),Object(l.jsx)("span",{id:"text_width_finder"})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),o(e),i(e)}))};i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root")),v()}],[[19,1,2]]]);
//# sourceMappingURL=main.a571dc05.chunk.js.map
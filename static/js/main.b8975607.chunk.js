(this.webpackJsonpeditor=this.webpackJsonpeditor||[]).push([[0],{13:function(e,t,r){var n={"./c/tokenizer.js":30};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=13},26:function(e,t,r){},27:function(e,t,r){},30:function(e,t){var r=["int","float","double","char","auto","void"],n=["long","short","signed","unsigned"],o=["for","if","else","switch","return","goto","register","do","while","break","continue","struct","enum","union","static","case","default","sizeof","typedef","volatile","extern"],a=["+","-","*","/","%","=","==","++","--","+=","-=","*=","/=",">","<",">=","<=","!=",">>","<<",">>=","<<=","~","!","&","|","^","&=","|=","^=","~=","?",":","&&","||"],s=[",",".",";","->","#","(",")","{","}","[","]","...",'"',"'"],i=["define","include","undef","ifdef","ifndef","if","else","elif","endif","error","pragma"],c=new Set(["abort","abs","acos","asctime","asctime_r","asin","assert","atan","atan2","atexit","atof","atoi","atol","bsearch","btowc","calloc","catclose6","catgets6","catopen6","ceil","clearerr","clock","cos","cosh","ctime","ctime64","ctime_r","ctime64_r","difftime","difftime64","div","erf","erfc","exit","exp","fabs","fclose","fdopen5","feof","ferror","fflush1","fgetc1","fgetpos1","fgets1","fgetwc6","fgetws6","fileno5","floor","fmod","fopen","fprintf","fputc1","fputs1","fputwc6","fputws6","fread","free","freopen","frexp","fscanf","fseek1","fsetpos1","ftell1","fwide6","fwprintf6","fwrite","fwscanf6","gamma","getc1","getchar1","getenv","gets","getwc6","getwchar6","gmtime","gmtime64","gmtime_r","gmtime64_r","hypot","isalnum","isalpha","isascii4","isblank","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","iswalnum4","iswalpha4","iswblank4","iswcntrl4","iswctype4","iswdigit4","iswgraph4","iswlower4","iswprint4","iswpunct4","iswspace4","iswupper4","iswxdigit4","isxdigit4","j0","j1","jn","labs","ldexp","ldiv","localeconv","localtime","localtime64","localtime_r","localtime64_r","log","log10","longjmp","main","malloc","mblen","mbrlen4","mbrtowc4","mbsinit4","mbsrtowcs4","mbstowcs","mbtowc","memchr","memcmp","memcpy","memmove","memset","mktime","mktime64","modf","nextafter","nextafterl","nexttoward","nexttowardl","nl_langinfo4","perror","pow","printf","putc1","putchar1","putenv","puts","putwc6","putwchar6","qsort","quantexpd32","quantexpd64","quantexpd128","quantized32","quantized64","quantized128","samequantumd32","samequantumd64","samequantumd128","raise","rand","rand_r","realloc","regcomp","regerror","regexec","regfree","remove","rename","rewind1","scanf","setbuf","setjmp","setlocale","setvbuf","signal","sin","sinh","snprintf","sprintf","sqrt","srand","sscanf","strcasecmp","strcat","strchr","strcmp","strcoll","strcpy","strcspn","strerror","strfmon4","strftime","strlen","strncasecmp","strncat","strncmp","strncpy","strpbrk","strptime4","strrchr","strspn","strstr","strtod","strtod32","strtod64","strtod128","strtof","strtok","strtok_r","strtol","strtold","strtoul","strxfrm","swprintf","swscanf","system","tan","tanh","time","time64","tmpfile","tmpnam","toascii","tolower","toupper","towctrans","towlower4","towupper4","ungetc1","ungetwc6","va_arg","va_copy","va_end","va_start","vfprintf","vfscanf","vfwprintf6","vfwscanf","vprintf","vscanf","vsprintf","vsnprintf","vsscanf","vswprintf","vswscanf","vwprintf6","vwscanf","wcrtomb4","wcscat","wcschr","wcscmp","wcscoll4","wcscpy","wcscspn","wcsftime","wcslen","wcslocaleconv","wcsncat","wcsncmp","wcsncpy","wcspbrk","wcsptime","wcsrchr","wcsrtombs4","wcsspn","wcsstr","wcstod","wcstod32","wcstod64","wcstod128","wcstof","wcstok","wcstol","wcstold","wcstombs","wcstoul","wcsxfrm4","wctob","wctomb","wctrans","wctype4","wcwidth","wmemchr","wmemcmp","wmemcpy","wmemmove","wmemset","wprintf6","wscanf6","y0","y1","yn"]),l=[],u=function(){for(var e=0;e<l.length;e++)""===l[e]&&l.splice(e,1)},f=function(){for(var e=[],t=0;t<l.length&&" "===l[t];)t++;var r=Math.floor(t/4),n=t%4;if(r>0){for(var o=0;o<r-1;o++)e.push(["    ","indentation_guide_1"]);0===n?e.push(["    ","indentation_guide_2"]):e.push(["    ","indentation_guide_1"])}for(var a=4*r;a<l.length;a++)e.push([l[a],d(l[a])]);l=e},d=function(e){return""===(e=e.trim())?"space":-1!==r.indexOf(e)?"type":-1!==n.indexOf(e)?"qualifier":-1!==o.indexOf(e)?"keyword":'"'===e[0]?"string_literal":"'"===e[0]?function(e){var t=e.slice(1,-1);return!(t.length>1)||2===t.length&&"\\"===t[0]}(e)?"char_literal":"error":"string"!=typeof(t=e)||isNaN(t)||isNaN(parseFloat(t))?-1!==a.indexOf(e)?"operator":-1!==s.indexOf(e)?"#"===e?"operator":"punctuator":"//"===e.substring(0,2)?"single_line_comment":"/*"===e.substring(0,2)?"*/"===e.substring(e.length-2)?"multi_line_comment":"multi_line_comment_start":"*/"===e.substring(e.length-2,2)?"multi_line_comment_end":e.match(/^[0-9a-zA-Z_]+$/)?c.has(e)?"lib_func":i.includes(e)?"preproc_dir":"identifier":"error":"numeric_literal";var t};e.exports={tokenize:function(e){l=[];for(var t,r=!1,n=!1,o=!1,i=!1,c="",d=0;d<e.length;d++)if(t=e[d],i)c+=t,"/"===t&&d>0&&"*"===e[d-1]&&(i=!1,l[l.length-1]+=c,c="");else if(t>="a"&&t<="z")o&&(l.push(c),c=""),c+=t,o=!1;else if("_"===t)o&&(l.push(c),c=""),c+=t,o=!1;else if(t>="A"&&t<="Z")o&&(l.push(c),c=""),c+=t,o=!1;else if(t>="0"&&t<="9")o&&(l.push(c),c=""),c+=t,o=!1;else if(" "===t)r||n?c+=t:(l.push(c),c="",l.push(" ")),o=!1;else if('"'===t)o&&(l.push(c),c=""),d>0&&"\\"!==e[d-1]?(r?(c+=t,l.push(c),c=""):(l.push(c),c='"'),r=!r):c+=t,o=!1;else if("'"===t)o&&(l.push(c),c=""),d>0&&"\\"!==e[d-1]?(n?(c+=t,l.push(c),c=""):(l.push(c),c="'"),n=!n):c+=t,o=!1;else if(s.includes(t))o&&(l.push(c),c=""),r||n?c+=t:(l.push(c),c="",l.push(t)),o=!1;else if("\\"===t)c+=t;else if(a.includes(t))if(r||n)c+=t;else{if("/"===t&&d>0&&"/"===e[d-1])return l[l.length-1]+="/"+e.substring(d),u(),f(),l;"*"===t&&d>0&&"/"===e[d-1]&&(c+=t,i=!0),i||(o?c+=t:(l.push(c),c=t),o=!0)}else r||n||(l.push(c),l.push(t),c=""),o=!1;return l.push(c),u(),f(),l}}},36:function(e,t,r){},38:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(8),s=r.n(a),i=(r(26),r(27),r(2)),c=r(14);var l=Object(c.a)((function(){var e=Object(n.useState)(4),t=Object(i.a)(e,2),r=t[0],o=t[1],a=Object(n.useState)(20),s=Object(i.a)(a,2),c=s[0],l=s[1],u=Object(n.useState)(30),f=Object(i.a)(u,2),d=f[0],p=f[1],g=Object(n.useState)(null),m=Object(i.a)(g,2),h=m[0],y=m[1],v=Object(n.useState)(null),w=Object(i.a)(v,2),x=w[0],b=w[1],_=Object(n.useState)(0),C=Object(i.a)(_,2),k=C[0],O=C[1],A=Object(n.useState)(0),j=Object(i.a)(A,2),I=j[0],S=j[1],E=Object(n.useState)(0),L=Object(i.a)(E,2);return{tabWidth:r,setTabWidth:o,lineHeight:c,setLineHeight:l,lineCount:d,setLineCount:p,cursorOffset:L[0],setCursorOffset:L[1],contentArray:h,setContentArray:y,tokenArray:x,setTokenArray:b,cursorLine:k,setCursorLine:O,cursorIndex:I,setCursorIndex:S}})),u=r(9),f=r(1),d=function(e){var t=e.number,r=e.isContractible,n=e.isContracted,o=l.useContainer(),a=o.cursorLine===t?"#272727":"#2F3129";return Object(f.jsxs)("div",{className:"editor_line_marker",style:{height:o.lineHeight+"px",backgroundColor:a},children:[Object(f.jsx)("span",{style:{marginRight:"5px"},children:t+1}),r?Object(f.jsx)("i",{className:"fa fa-caret-down",style:n?{color:"white"}:{color:"gray"}}):Object(f.jsx)("i",{})]})},p=function(e){var t=e.code,r=e.category,n=e.line,o=e.index,a=l.useContainer();t=t.replaceAll(" ","\xa0");var s={type:"#5CD9EF",qualifier:"#5CD9EF",keyword:"#F92665",operator:"#F92665",punctuator:"#FFFFFF",escapeseq:"#7C75FF",error:"#FFFFFF",identifier:"#FFFFFF",string_literal:"#E6DB74",char_literal:"#E6DB74",numeric_literal:"#7C75FF",single_line_comment:"#1e9104",multi_line_comment:"#1e9104",multi_line_comment_start:"#1e9104",multi_line_comment_end:"#1e9104",indentation_guide_1:"transparent",indentation_guide_2:"transparent",lib_func:"#66D9E2",preproc_dir:"#F92665"}[r],i=function(e){e=e.replaceAll(" ","\xa0");var t=document.getElementById("text_width_finder");return t.innerText=e,t.getBoundingClientRect().width};return Object(f.jsx)("span",{"data-index":o,contentEditable:"false",spellCheck:"false",className:"indentation_guide_1"===r?"editor_code_span editor_code_span_indentation":"editor_code_span",style:{color:s,fontStyle:"type"===r||"qualifier"===r?"italic":"normal"},onClick:function(e){var r=e.offsetX||e.nativeEvent.offsetX;r=e.clientX-e.target.getBoundingClientRect().left,e.stopPropagation(),e.preventDefault(),a.setCursorLine(n);var s=a.tokenArray[n].slice(0,o).reduce((function(e,t){return Array.isArray(e)?e[0].length+t[0].length:e+t[0].length}),0),c=0,l=0;for(l=0;l<t.length;l++)if((c+=i(t[l]))>r){c-r<r-c+i(t[l])&&(l+=1);break}a.setCursorIndex(s+l),a.setCursorOffset(i(a.contentArray[n].slice(0,s+l))),document.getElementById("edit_textarea").focus()},suppressContentEditableWarning:!0,children:t})},g=function(e){var t=e.line,r=l.useContainer();return Object(f.jsx)("div",{"data-line":t,id:"editor_code_line_"+t,className:"editor_code_line",style:{height:r.lineHeight+"px",backgroundColor:t===r.cursorLine?"#202020":"#272822",top:r.lineHeight*t+"px"},onClick:function(){r.setCursorLine(t),r.setCursorIndex(r.contentArray[t].length),r.setCursorOffset(function(e){e=e.replaceAll(" ","\xa0");var t=document.getElementById("text_width_finder");return t.innerText=e,t.getBoundingClientRect().width}(r.contentArray[t])),document.getElementById("edit_textarea").focus()},children:null===r.tokenArray||void 0===r.tokenArray||null===r.tokenArray[t]||void 0===r.tokenArray[t]?"":r.tokenArray[t].map((function(e,r){return Object(f.jsx)(p,{index:r,code:e[0],category:e[1],line:t},r)}))})},m=r(12),h=r.n(m),y=r(15),v=localStorage.getItem("language")||"c",w=r(13)("./"+v+"/tokenizer.js"),x=["(","{","["],b=[")","}","]"],_=function(){var e=l.useContainer(),t=Object(n.useState)(!1),r=Object(i.a)(t,2),o=r[0],a=r[1],s=Object(n.useState)(!1),c=Object(i.a)(s,2),u=c[0],d=c[1],p=Object(n.useState)(null),g=Object(i.a)(p,2),m=g[0],v=g[1],_=Object(n.useState)(null),C=Object(i.a)(_,2),k=C[0],O=C[1],A=function(e){e=e.replaceAll(" ","\xa0");var t=document.getElementById("text_width_finder");return t.innerText=e,t.getBoundingClientRect().width},j=function(){localStorage.setItem("contentArray",JSON.stringify(e.contentArray)),localStorage.setItem("tokenArray",JSON.stringify(e.tokenArray))},I=function(t,r){e.setLineCount(e.lineCount+1),e.contentArray.splice(t,0,r),e.tokenArray.splice(t,0,w.tokenize(r)),e.setCursorLine(t),e.setCursorIndex(0),e.setCursorOffset(0),j()},S=function(t){e.contentArray.splice(t,1),e.tokenArray.splice(t,1),e.setLineCount(e.lineCount-1),j()},E=function(){var t=Object(y.a)(h.a.mark((function t(r){var n,o,a,s,i,c,l,u,f,d,p,g,y,x;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.keyCode||r.charCode,o=e.cursorLine,a=e.contentArray[o],s=e.cursorIndex,8!==n){t.next=10;break}r.preventDefault(),r.stopPropagation(),s>0?(e.setCursorIndex(s-1),e.setCursorOffset(e.cursorOffset-A(a[s-1])),a=a.slice(0,s-1)+a.slice(s),e.contentArray[o]=a,e.tokenArray[o]=w.tokenize(a),j()):0===s&&o>0&&(i=e.contentArray[o-1],e.contentArray[o-1]+=a,e.tokenArray[o-1]=w.tokenize(i+a),e.setCursorLine(o-1),e.setCursorIndex(i.length),e.setCursorOffset(A(i)),S(o)),t.next=61;break;case 10:if(46!==n){t.next=16;break}if(r.preventDefault(),r.stopPropagation(),s===a.length)o+1<e.lineCount&&(c=e.contentArray[o+1],e.contentArray[o]+=c,e.tokenArray[o]=w.tokenize(a+c),S(o+1));else{for(a=a.slice(0,s)+a.slice(s+1),l=[],u=0;u<e.contentArray.length;u++)l.push(e.contentArray[u]);l[o]=a,e.tokenArray[o]=w.tokenize(a),e.setContentArray(l),j()}t.next=61;break;case 16:if(9!==n){t.next=20;break}r.shiftKey||(r.preventDefault(),r.stopPropagation(),f=e.tabWidth-s%e.tabWidth,d=" ".repeat(f),a=a.slice(0,s)+d+a.slice(s),e.setCursorIndex(s+f),e.setCursorOffset(e.cursorOffset+A(d)),p=w.tokenize(a),e.contentArray[e.cursorLine]=a,e.tokenArray[e.cursorLine]=p,j()),t.next=61;break;case 20:if(13!==n){t.next=29;break}r.preventDefault(),r.stopPropagation(),g=a.substring(0,s),e.contentArray[o]=g,e.tokenArray[o]=w.tokenize(g),I(o+1,a.substring(s)),t.next=61;break;case 29:if(37!==n){t.next=34;break}r.stopPropagation(),s>0?(e.setCursorIndex(s-1),e.setCursorOffset(A(a.slice(0,s-1))),O("L")):o-1>=0&&(e.setCursorIndex(e.contentArray[o-1].length),e.setCursorOffset(A(e.contentArray[o-1])),e.setCursorLine(o-1),O("L")),t.next=61;break;case 34:if(38!==n){t.next=47;break}if(r.stopPropagation(),!(o>0)){t.next=45;break}if("R"!==k&&"L"!==k&&null!==k){t.next=40;break}return t.next=40,v(s);case 40:O("U"),y=Math.min(m||s,e.contentArray[o-1].length),e.setCursorLine(o-1),e.setCursorIndex(y),e.setCursorOffset(A(e.contentArray[o-1].substring(0,y)));case 45:t.next=61;break;case 47:if(40!==n){t.next=60;break}if(r.stopPropagation(),!(o+1<e.lineCount)){t.next=58;break}if("R"!==k&&"L"!==k&&null!==k){t.next=53;break}return t.next=53,v(s);case 53:O("U"),x=Math.min(m||s,e.contentArray[o+1].length),e.setCursorLine(o+1),e.setCursorIndex(x),e.setCursorOffset(A(e.contentArray[o+1].substring(0,x)));case 58:t.next=61;break;case 60:39===n&&(r.stopPropagation(),s<a.length?(e.setCursorIndex(s+1),e.setCursorOffset(A(a.slice(0,s+1))),O("R")):o+1<e.lineCount&&(e.setCursorIndex(0),e.setCursorOffset(0),e.setCursorLine(o+1),O("R")));case 61:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsx)("textarea",{id:"edit_textarea",style:{height:e.lineHeight+"px",top:e.lineHeight*e.cursorLine+"px",left:(e.cursorOffset?e.cursorOffset:0)+"px",lineHeight:e.lineHeight+"px"},autoFocus:!0,wrap:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",onInput:function(t){t.stopPropagation();var r=t.target,n=r.value;r.value="";var s=e.cursorIndex,i=e.contentArray[e.cursorLine];if(x.includes(n)){var c=b[x.indexOf(n)];e.setCursorIndex(s+1),e.setCursorOffset(e.cursorOffset+A(n)),i=i.slice(0,s)+n+c+i.slice(s);var l=w.tokenize(i);e.contentArray[e.cursorLine]=i,e.tokenArray[e.cursorLine]=l,j()}else if('"'===n&&(s>1&&"\\"!==i[s-2]||s<=1)){a(!o),e.setCursorIndex(s+1),e.setCursorOffset(e.cursorOffset+A(n)),i=i.slice(0,s)+'""'+i.slice(s);var f=w.tokenize(i);e.contentArray[e.cursorLine]=i,e.tokenArray[e.cursorLine]=f,j()}else if("'"===n&&(s>1&&"\\"!==i[s-2]||s<=1)){d(!u),e.setCursorIndex(s+1),e.setCursorOffset(e.cursorOffset+A(n)),i=i.slice(0,s)+"''"+i.slice(s);var p=w.tokenize(i);e.contentArray[e.cursorLine]=i,e.tokenArray[e.cursorLine]=p,j()}else{e.setCursorIndex(s+1),e.setCursorOffset(e.cursorOffset+A(n)),i=i.slice(0,s)+n+i.slice(s);var g=w.tokenize(i);e.contentArray[e.cursorLine]=i,e.tokenArray[e.cursorLine]=g,j()}},onKeyDown:E,onPaste:function(t){t.preventDefault(),t.stopPropagation();var r=(t.clipboardData||window.clipboardData).getData("text").split("\n"),n=e.cursorLine,o=e.cursorIndex,a=e.contentArray[n].slice(0,o),s=e.contentArray[n].slice(o);e.tokenArray[n]=w.tokenize(a+r[0]),e.contentArray[n]=a+r[0];for(var i=1;i<r.length;i++)i===r.length-1?I(n+i,r[i]+s):I(n+i,r[i]);e.setCursorIndex(r[r.length-1].length),e.setCursorOffset(A(r[r.length-1]))}})},C=r(16),k=r.n(C),O=r(18),A=r.n(O),j=r(19),I=r.n(j),S=r(20),E=r.n(S),L=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),r=t[0],o=t[1],a=Object(n.useState)(0),s=Object(i.a)(a,2),c=s[0],d=s[1],p=Object(n.useState)([]),g=Object(i.a)(p,2),m=g[0],h=g[1],y=l.useContainer(),v=function(e){e=e.replaceAll(" ","\xa0");var t=document.getElementById("text_width_finder");return t.innerText=e,t.getBoundingClientRect().width},w=function(){for(var e=document.getElementsByClassName("text_search_highlight");e.length>0;)e[0].remove();var t=document.getElementById("search_overview");t.style.display="block";var r=t.getContext("2d");r.clearRect(0,0,t.width,t.height);var n=document.getElementById("text_search_input").value,a=n.length;if(0!==a){var s,i,c=[];for(s in y.contentArray){for(var l,f=y.contentArray[s],p=0,g=[];(l=f.indexOf(n,p))>-1;)g.push(l),p=l+a;c[s]=g}var m=v(n);r.beginPath(),r.lineWidth=10,r.strokeStyle="rgba(16, 161, 21, 0.5)",c.length>0?o(!0):o(!1);var w=[];for(i in c){var x=document.getElementById("editor_code_line_"+i);c[i].length>0&&(r.moveTo(3,20*i),r.lineTo(3,20+20*i),r.stroke());var b,_=Object(u.a)(c[i]);try{for(_.s();!(b=_.n()).done;){l=b.value;var C=document.createElement("span");C.classList.add("text_search_highlight"),C.style.left=v(y.contentArray[i].slice(0,l))+"px",C.style.width=m+"px",x.appendChild(C),w.push(C)}}catch(k){_.e(k)}finally{_.f()}}h(w),d(0),w[0].style.backgroundColor="rgba(81, 109, 120, 0.5)"}},x=function(){m[c].style.backgroundColor="rgba(8, 135, 8, 0.3)";var e=(m.length+c-1)%m.length;m[e].style.backgroundColor="rgba(81, 109, 120, 0.5)",d(e)},b=function(){m[c].style.backgroundColor="rgba(8, 135, 8, 0.3)";var e=(c+1)%m.length;m[e].style.backgroundColor="rgba(81, 109, 120, 0.5)",d(e)};return Object(f.jsxs)("div",{className:"text_search",id:"text_search",onKeyDown:function(e){e.preventDefault();var t=e.keyCode||e.charCode;39===t||40===t?(b(),e.stopPropagation()):37!==t&&38!==t||(x(),e.stopPropagation())},children:[Object(f.jsxs)("div",{className:"text_input_container",children:[Object(f.jsx)("input",{autoFocus:!0,placeholder:"Find",id:"text_search_input",onKeyDown:function(e){e.stopPropagation(),13===(e.keyCode||e.charCode)&&w()}}),Object(f.jsx)(k.a,{style:{color:"white",position:"absolute",right:"4px",width:"20px"},onClick:w})]}),Object(f.jsxs)("div",{style:{position:"absolute",right:"4px",height:"24px",top:"4px"},children:[Object(f.jsx)(A.a,{style:{color:r?"white":"#636360",width:"20px"},onClick:x}),Object(f.jsx)(I.a,{style:{color:r?"white":"#636360",width:"20px"},onClick:b}),Object(f.jsx)(E.a,{style:{color:"white",width:"20px"},onClick:function(){for(var e=document.getElementsByClassName("text_search_highlight");e.length>0;)e[0].remove();var t=document.getElementById("search_overview");t.style.display="none",t.getContext("2d").clearRect(0,0,t.width,t.height),h([]);var r=document.getElementById("text_search");r.classList.remove("text_search_animation"),r.classList.add("text_search_animation_rev")}})]})]})},N=(r(36),localStorage.getItem("language")||"c"),F=r(13)("./"+N+"/tokenizer.js");function B(e){var t=Object.keys(e);t.sort((function(e,t){return e-t}));for(var r=[],n=0;n<t.length;n++)r.push(e[t[n]]);return r}var D=function(e){var t,r;localStorage.setItem("language","c"),null===localStorage.getItem("contentArray")?(t=Array.from({length:e.lineCount},(function(e,t){return""})),localStorage.setItem("contentArray",JSON.stringify(t))):e.setLineCount(Object.keys(JSON.parse(localStorage.getItem("contentArray"))).length),null===localStorage.getItem("tokenArray")&&(r=Array.from({length:e.lineCount},(function(e,t){return[]})),localStorage.setItem("tokenArray",JSON.stringify(r))),t=JSON.parse(localStorage.getItem("contentArray")),r=JSON.parse(localStorage.getItem("tokenArray")),e.setContentArray(B(t)),e.setTokenArray(B(r))},z=function(e){e=e.replaceAll(" ","\xa0");var t=document.getElementById("text_width_finder");return t.innerText=e,t.getBoundingClientRect().width},P=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),r=(t[0],t[1],Object(n.useState)(!1)),o=Object(i.a)(r,2),a=(o[0],o[1]),s=l.useContainer();Object(n.useEffect)((function(){null===s.contentArray&&D(s)}),[s,s.contentArray,s.tokenArray]),document.onselectionchange=function(){window.getSelection().toString().length>0&&(a(!0),console.log(window.getSelection()),document.getElementById("editor_code_wrapper").focus())};var c=function(){localStorage.setItem("contentArray",JSON.stringify(s.contentArray)),localStorage.setItem("tokenArray",JSON.stringify(s.tokenArray))};document.addEventListener("keydown",(function(e){var t=e.keyCode||e.charCode,r=window.getSelection();if(r.toString().length>0&&s.contentArray)try{if(46===t||8===t){var n=parseInt(r.anchorNode.parentElement.parentElement.dataset.line),o=parseInt(r.anchorNode.parentElement.dataset.index),a=r.anchorOffset,i=parseInt(r.focusNode.parentElement.parentElement.dataset.line),l=parseInt(r.focusNode.parentElement.dataset.index),u=r.focusOffset;if(i<n){var f=[i,n];n=f[0],i=f[1]}for(var d=0,g=0;g<o;g++)d+=s.tokenArray[n][g][0].length;d+=a;for(var m=0,h=0;h<l;h++)m+=s.tokenArray[i][h][0].length;p(n,d,i,m+=u),s.setCursorLine(n),s.setCursorIndex(d),s.setCursorOffset(z(s.contentArray[n].slice(0,d))),e.stopImmediatePropagation()}else if(9===t){if(e.shiftKey){var y=parseInt(r.anchorNode.parentElement.parentElement.dataset.line),v=parseInt(r.focusNode.parentElement.parentElement.dataset.line),w=parseInt(r.focusNode.parentElement.dataset.index),x=r.focusOffset;if(v<y){var b=[v,y];y=b[0],v=b[1]}for(var _,C,k,O,A=0,j=0;j<w;j++)A+=s.tokenArray[v][j][0].length;A+=x;for(var I=y;I<=v;I++)(C=(O=(_=s.contentArray[I]).length)-(_=_.trimLeft()).length)%s.tabWidth===0?C-=4:C-=C%s.tabWidth,k=" ".repeat(C),console.log(C),s.tokenArray[I]=F.tokenize(k+_),s.contentArray[I]=k+_;s.setCursorLine(v),A-=O-_.length,s.setCursorIndex(A),s.setCursorOffset(z(s.contentArray[v].slice(0,A)))}else{console.log(r);var S=parseInt(r.anchorNode.parentElement.parentElement.dataset.line),E=parseInt(r.focusNode.parentElement.parentElement.dataset.line),L=parseInt(r.focusNode.parentElement.dataset.index),N=r.focusOffset;if(E<S){var B=[E,S];S=B[0],E=B[1]}for(var D=0,P=0;P<L;P++)D+=s.tokenArray[E][P][0].length;D+=N;for(var R=" ".repeat(s.tabWidth),q=S;q<=E;q++)s.tokenArray[q]=F.tokenize(R+s.contentArray[q]),s.contentArray[q]=R+s.contentArray[q];console.log(s.contentArray[E],E),s.setCursorLine(E),s.setCursorIndex(D+s.tabWidth),s.setCursorOffset(z(R+s.contentArray[E].slice(0,D)))}window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges(),c(),e.stopImmediatePropagation()}}catch(T){}}));var p=function(e,t,r,n){var o=s.contentArray[e].slice(0,t),a=s.contentArray[r].slice(n);s.contentArray.splice(e+1,r-e),s.tokenArray.splice(e+1,r-e),s.setLineCount(s.lineCount-r+e),s.contentArray[e]=o+a,s.tokenArray[e]=F.tokenize(o+a),window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges(),c()},m=function(e){e.preventDefault(),e.stopPropagation();var t=window.getSelection();if(t.toString().length>0){var r=parseInt(t.anchorNode.parentElement.parentElement.dataset.line),n=parseInt(t.anchorNode.parentElement.dataset.index),o=t.anchorOffset,a=parseInt(t.focusNode.parentElement.parentElement.dataset.line),i=parseInt(t.focusNode.parentElement.dataset.index),c=t.focusOffset;if(a<r||a===r&&i<n){var l=[a,r];r=l[0],a=l[1];var u=[i,n];n=u[0],i=u[1];var f=[c,o];o=f[0],c=f[1]}var d="";d+=s.tokenArray[r][n][0].slice(o);for(var p=n+1;p<s.tokenArray[r].length;p++)d+=s.tokenArray[r][p][0];var g=s.contentArray[r].length-d.length;d+="\n";for(var m=r+1;m<a;m++)d+=s.contentArray[m],d+="\n";for(var h=0,y=0;y<i;y++)h+=s.tokenArray[a][y][0].length,d+=s.tokenArray[a][y][0];return d+=s.tokenArray[a][i][0].slice(0,c),h+=c,e.clipboardData.setData("text/plain",d),[r,g,a,h]}return null},h=Array.from({length:s.lineCount},(function(e,t){return t}));return Object(f.jsxs)("div",{className:"editor_wrapper",id:"editor_wrapper",onScroll:function(e){document.getElementById("editor_line_marker_wrapper").style.left=e.target.scrollLeft+"px"},children:[Object(f.jsx)("div",{className:"editor_line_marker_wrapper",id:"editor_line_marker_wrapper",children:h.map((function(e,t){return Object(f.jsx)(d,{number:e,isContractible:!1,isContracted:!1},t)}))}),Object(f.jsx)("div",{className:"editor_scroll_wrapper",children:Object(f.jsxs)("div",{id:"editor_code_wrapper",className:"editor_code_wrapper",onCopy:m,onCut:function(e){var t=m(e),r=Object(i.a)(t,4),n=r[0],o=r[1],a=r[2],c=r[3];p(n,o,a,c),s.setCursorLine(n),s.setCursorIndex(o),s.setCursorOffset(z(s.contentArray[n].slice(0,o))),document.getElementById("edit_textarea").focus()},onKeyDown:function(e){var t=e.keyCode||e.charCode;if(70===t&&e.ctrlKey){e.preventDefault(),e.stopPropagation();var r=document.getElementById("text_search");r.classList.remove("text_search_animation_rev"),r.classList.add("text_search_animation")}else if(27===t){e.preventDefault(),e.stopPropagation();for(var n=document.getElementsByClassName("text_search_highlight");n.length>0;)n[0].remove();var o=document.getElementById("search_overview");o.style.display="none",o.getContext("2d").clearRect(0,0,o.width,o.height);var a=document.getElementById("text_search");a.classList.remove("text_search_animation"),a.classList.add("text_search_animation_rev")}else if(83===t&&e.ctrlKey){e.preventDefault(),e.stopPropagation();var i,c="",l=Object(u.a)(s.contentArray);try{for(l.s();!(i=l.n()).done;)c+=i.value+"\n"}catch(f){l.e(f)}finally{l.f()}!function(e,t){e=e.trimRight("\n")+"\n";var r=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(r),o=document.createElement("a");o.href=n,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)}(c,"sush.c")}else 46===t&&e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),localStorage.removeItem("contentArray"),localStorage.removeItem("tokenArray"),D(s),s.setCursorLine(0),s.setCursorLine(0))},children:[Object(f.jsx)(L,{}),Object(f.jsx)(_,{}),h.map((function(e,t){return Object(f.jsx)(g,{line:t},t)}))]})}),Object(f.jsx)("canvas",{id:"search_overview",width:"6",height:"400"}),Object(f.jsx)("button",{onClick:function(){console.log(s.cursorIndex),console.log(s.cursorOffset),console.log(s.cursorLine)},style:{display:"none"},children:"Verbose"})]})},R=function(){return Object(f.jsx)(l.Provider,{children:Object(f.jsx)(P,{})})};var q=function(){return localStorage.setItem("language","c"),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(R,{}),Object(f.jsx)("span",{id:"text_width_finder"})]})},T=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,50)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),o(e),a(e),s(e)}))};s.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(q,{})}),document.getElementById("root")),T()}},[[38,1,2]]]);
//# sourceMappingURL=main.b8975607.chunk.js.map